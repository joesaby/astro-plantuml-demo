---
import DocLayout from '../layouts/DocLayout.astro';
---

<DocLayout title="Astro PlantUML Demo">
  <div class="prose">
    <h1 class="text-4xl font-bold mb-8">Astro PlantUML Demo</h1>
    
    <section id="setup" class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">Project Setup</h2>
      <div>
        <h3>Prerequisites</h3>
        <ul>
          <li>Node.js (version 18 or higher recommended)</li>
          <li>npm or yarn package manager</li>
        </ul>

        <h3>Installation Steps</h3>
        <ol>
          <li>Clone the repository</li>
          <li>Install dependencies:
            <pre><code>npm install</code></pre>
          </li>
          <li>Start the development server:
            <pre><code>npm run dev</code></pre>
          </li>
        </ol>
      </div>
    </section>

    <section id="configuration" class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">Configuration</h2>
      <div>
        <h3>astro.config.mjs</h3>
        <p>The project uses the following configuration:</p>
        <pre><code>{`import { defineConfig } from 'astro/config';
import plantuml from 'astro-plantuml';

export default defineConfig({
  integrations: [plantuml()],
});`}</code></pre>
      </div>
    </section>

    <section id="usage" class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">Using PlantUML in Astro</h2>
      <div>
        <h3>Basic Usage</h3>
        <p>You can use PlantUML diagrams in your Astro components using the following syntax:</p>
        <pre><code>{`---
// Your component imports and logic here
---

<PlantUML>
@startuml
Alice -> Bob: Hello
Bob --> Alice: Hi there!
@enduml
</PlantUML>`}</code></pre>

        <h3>Example Diagrams</h3>
        
        <div id="sequence" class="mb-12">
          <h4 class="text-xl font-semibold mb-4">Sequence Diagram</h4>
          <pre><code>{`@startuml
participant User
participant "Web Browser" as Browser
participant Server

User -> Browser: Navigate to website
Browser -> Server: HTTP Request
Server --> Browser: HTTP Response
Browser --> User: Display page
@enduml`}</code></pre>
        </div>

        <div id="class" class="mb-12">
          <h4 class="text-xl font-semibold mb-4">Class Diagram</h4>
          <pre><code>{`@startuml
class Car {
  - make: String
  - model: String
  - year: Integer
  + start()
  + stop()
  + accelerate()
}

class Engine {
  - cylinders: Integer
  - horsepower: Integer
  + ignite()
  + shutdown()
}

Car "1" *-- "1" Engine : has
@enduml`}</code></pre>
        </div>

        <div id="activity" class="mb-12">
          <h4 class="text-xl font-semibold mb-4">Activity Diagram</h4>
          <pre><code>{`@startuml
start
:Initialize process;
if (Data valid?) then (yes)
  :Process data;
  :Save results;
else (no)
  :Log error;
  :Send notification;
endif
stop
@enduml`}</code></pre>
        </div>
      </div>
    </section>
  </div>
</DocLayout>

<style>
  .prose pre {
    background-color: #f3f4f6;
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
  }
  .prose code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  }
  .prose a {
    color: #2563eb;
    text-decoration: underline;
  }
  .prose a:hover {
    color: #1d4ed8;
  }
  /* Add smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
</style>

<script>
  // Handle mobile navigation
  document.querySelector('select')?.addEventListener('change', function(e) {
    const target = e.target as HTMLSelectElement;
    if (target.value) {
      if (target.value.startsWith('#')) {
        // Scroll to section
        document.querySelector(target.value)?.scrollIntoView({ behavior: 'smooth' });
      } else {
        // Navigate to page
        window.location.href = target.value;
      }
    }
  });
</script> 